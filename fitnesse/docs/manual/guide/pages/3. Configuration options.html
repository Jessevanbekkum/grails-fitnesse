<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>3. Configuration options</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    The following describes the list of configuration options. As in the convention over configuration principle, these configurations are not necessary, but can be used to change the behavior of the plugin a litte.<p class="paragraph"/><h1>Wiki options</h1><p class="paragraph"/><h3>The Wiki Server port</h3><p class="paragraph"/>The Wiki contains all the test suites. It is an embedded HTTP server which by default is accessible on port 9090, but which can be changed if needed.<p class="paragraph"/>This can be done by setting the <code>grails.plugin.wiki.port</code> option. An example can be found below:<p class="paragraph"/><div class="code"><pre>grails &#123;
  plugin &#123;
    wiki &#123;
        port = 9090
    &#125;
  &#125;
&#125;</pre></div><p class="paragraph"/><h3>The Wiki Server directory</h3><p class="paragraph"/>The Wiki pages are stored in a specific directory, &#60;project-root&#62;/'wiki' by default.<p class="paragraph"/>This can be changed if needed, by setting the <code>grails.plugin.wiki.dir</code> option. An example can be found below:<p class="paragraph"/><div class="code"><pre>grails &#123;
  plugin &#123;
    wiki &#123;
      dir = 'otherwiki'
    &#125;
  &#125;
&#125;</pre></div><p class="paragraph"/><h3>The default Wiki Suite or Test</h3><p class="paragraph"/>When supplying no arguments to <code>grails test-app</code>, all tests on the Fronpage will be run.<p class="paragraph"/>This can be changed if needed, by setting the <code>grails.plugin.wiki.defaultSuite</code> option, which is a list of Suites or Tests. An example can be found below:<p class="paragraph"/><div class="code"><pre>grails &#123;
    plugin &#123;
        fitnesse &#123;
            wiki &#123;
                defaultSuite = &#91;<span class="java&#45;quote">"FrontPage.GrailsTestSuite.SlimTestSystem?suite"</span>&#93;
            &#125;
        &#125;
    &#125;
&#125;</pre></div><p class="paragraph"/>It is also possible to supply the testsuite to run by passing it as an argument to <code>grails test-app</code>.<p class="paragraph"/>Note: see 'Integration testing' to see which option takes presedence over the other.<p class="paragraph"/><h1>Slim Server options</h1><p class="paragraph"/>
<h3>Slim Server Port</h3><p class="paragraph"/>The SlimServer opens ports and listens to a server socket.  The default is 8085 and it cycles through the next 10 ports to avoid collisions.
If 8085 is not a convenient port number for you, you can set the SLIM_PORT variable in the Fitnesse Wiki to any port you like.
See for more information the <a href="http://fitnesse.org/FitNesse.UserGuide.SliM.SlimProtocol.PortManagement" target="blank">Fitnesse User Guide</a>.<p class="paragraph"/>Changing the port in the Fitnesse Wiki also requires a change in the plugin configuration to tell the plugin on which port to listen.<p class="paragraph"/>To change the port in the Grails application, you can set it in the Config.groovy. Add the following:<p class="paragraph"/><div class="code"><pre>grails &#123;
  plugin &#123;
    fitnesse &#123;
      slim &#123;
        port = 8085
      &#125;
    &#125;
  &#125;
&#125;</pre></div><p class="paragraph"/>
<h3>Logging</h3><p class="paragraph"/>To add more logging to the application, add the following to the log4j DSL:<p class="paragraph"/><div class="code"><pre>debug  'nl.jworks.grails.plugin.fitnesse'</pre></div><p class="paragraph"/><strong class="bold">Verbose</strong><p class="paragraph"/>To enable verbose logging, which outputs more information than normally needed, set the <code>verbose</code> value to <code>true</code>:<p class="paragraph"/><div class="code"><pre>grails &#123;
  plugin &#123;
    fitnesse &#123;
      slim &#123;
        verbose = <span class="java&#45;keyword">true</span>
      &#125;
    &#125;
  &#125;
&#125;</pre></div><p class="paragraph"/><h3>Disable the plugin per environment</h3><p class="paragraph"/>By default, the plugin is enabled for all environments, including production. However, it is possible to selectively disable the plugin per environment. This can be done by setting the <code>grails.plugin.fitnesse.disabled</code> option to <code>true</code>.<p class="paragraph"/>An example from <code>Config.groovy</code> which disables the plugin in production:
<div class="code"><pre>environments &#123;
  production &#123;
    grails &#123;
      plugin &#123;
        fitnesse &#123;
          disabled = <span class="java&#45;keyword">true</span>
        &#125;
      &#125;
    &#125;
  &#125;
&#125;</pre></div><p class="paragraph"/>

    </body>
</html>
